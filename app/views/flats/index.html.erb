
<div class="search-bar">
<div>
  <h1>All Flats</h1>
    <%= form_with url: flats_path, method: :get, class: "d-flex" do %>
      <%= text_field_tag :query,
            params[:query],
            class: "form-control",
            placeholder: "Type a keyword"
        %>
    <%= submit_tag "Search", name: "", class: "btn btn-primary" %>
  <% end %>
  </div>
</div>


<div class="outer-cards">
  <div class="card-collection">
    <% @flats.each do |flat| %>
      <div class="card" style="width: 30rem;">
        <% if flat.photos.attached? %>
        <div class="card-img-top">
          <%= cl_image_tag flat.photos.first.key, height: 300, width: 478, crop: :fill%>
        </div>
        <% end %>
        <div class="card-body">
          <h5><%= link_to flat.name, flat_path(flat)%></h5>
        </div>
      </div>
    <% end %>
  </div>
</div>
